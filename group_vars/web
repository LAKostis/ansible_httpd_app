---
# Variables for the web server configuration

# Ethernet interface on which the web server should listen.
# Defaults to the first interface. Change this to:
#
#  iface: eth1
#
# ...to override.
#
iface: '{{ ansible_default_ipv4.interface }}'

webapp: ru-mozilla-site
webapp_version: 20181214-1.el7
webapp_vhosts:
  - example.com
  - www.example.com

apache_create_vhosts: true
apache_remove_default_vhost: true
apache_mods_enabled:
  - rewrite.load
  - ssl.load
  - headers.load
  - vhost_alias.load
apache_global_vhost_settings: | 
  <Directory /usr/share/{{ webapp }}/wwwroot> 
     Options -Indexes +Includes
     AddType text/html .shtml
     AddHandler server-parsed .shtml .html
     AllowOverride None
  </Directory> 
  ServerName {{ webapp_vhosts[0] }}
  ServerAlias {{ webapp_vhosts[1] }}
  Header always unset "X-Powered-By"
  ServerTokens Prod
  ServerSignature Off
  DocumentRoot /usr/share/{{ webapp }}/wwwroot
  DirectoryIndex index.shtml index.html index.php
  CustomLog ${APACHE_LOG_DIR}/other_vhosts_access.log vhost_combined
  # Sortable log format 
  LogFormat {% raw %}"%v:%p %{%F %T}t.%{usec_frac}t %h \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\""{% endraw %} vhost_combined 
